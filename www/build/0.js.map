{"version":3,"sources":["../../src/pages/project/project.module.ts","../../src/components/progress-ionic/progress-ionic.ts","../../src/components/progress/progress.ts","../../src/pages/project/project.ts"],"names":[],"mappings":"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","file":"0.js","sourcesContent":["import { ProgressIonic } from './../../components/progress-ionic/progress-ionic';\nimport { Progress } from './../../components/progress/progress';\nimport { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { Project } from './project';\n\n@NgModule({\n  declarations: [\n    Project,\n    Progress,\n    ProgressIonic\n  ],\n  imports: [\n    IonicPageModule.forChild(Project),\n  ],\n  exports: [\n    Project\n  ]\n})\nexport class ProjectModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/project/project.module.ts","import { Component, Input } from '@angular/core';\n\n/**\n * Generated class for the ProgressIonic component.\n *\n * See https://angular.io/docs/ts/latest/api/core/index/ComponentMetadata-class.html\n * for more info on Angular Components.\n */\n@Component({\n  selector: 'progress-ionic',\n  templateUrl: 'progress-ionic.html'\n})\nexport class ProgressIonic {\n@Input('progress') progress;\n  // text: string;\n\n  constructor() {\n    // console.log('Hello ProgressIonic Component');\n    // this.text = 'Hello World';\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/progress-ionic/progress-ionic.ts","import { Component, Input } from '@angular/core';\n\n/**\n * Generated class for the Progress component.\n *\n * See https://angular.io/docs/ts/latest/api/core/index/ComponentMetadata-class.html\n * for more info on Angular Components.\n */\n@Component({\n  selector: 'progress-bar',\n  templateUrl: 'progress.html'\n})\nexport class Progress {\n\n  @Input('progress') progress;\n\n  constructor() {\n    // console.log('Hello Progress Component');\n    // console.log(progress);\n    \n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/progress/progress.ts","// import { Progress } from './../../components/progress/progress';\nimport { FirebaseObjectObservable } from 'angularfire2/database';\nimport { Database } from './../../providers/database/database';\nimport { Component } from '@angular/core';\nimport { IonicPage, NavController, NavParams, ModalController, AlertController } from 'ionic-angular';\n// import { DecimalPipe } from '@angular/common';\n/**\n * Generated class for the Project page.\n *\n * See http://ionicframework.com/docs/components/#navigation for more info\n * on Ionic pages and navigation.\n */\n@IonicPage()\n@Component({\n  selector: 'page-project',\n  templateUrl: 'project.html',\n})\nexport class Project {\n  sections: any;\n  user: string = 'Admin';\n  project: FirebaseObjectObservable<any[]>;\n  project_id: string;\n  project_progress: number;\n  constructor(public navCtrl: NavController,\n    public alertCtrl: AlertController,\n    public navParams: NavParams,\n    public modal: ModalController,\n    public _db: Database) {\n  }\n\n  ionViewDidLoad() {\n    // console.log('add project details (platform?) todo');\n    // console.log('progress todo');\n    // console.log('manager edit todo');\n    // console.log('task note todo');\n    // console.log('manager users > make tabs todo ?');\n    // console.log(this.project);\n    this.project_id = this.navParams.get('id');\n    // console.log(this.project_id);\n\n    this.project = this._db.getProject(this.project_id);\n// console.log(this.project);\n\n    // this.sections = this._db.getSections(this.project_id);\n\n    this.sections = this._db.getSections(this.project_id).map((section) => {\n      // console.log(section);\n      let all_tasks: number = 0;\n      let all_tasks_done: number = 0;\n      // let project_progress: number = 0;\n      return section.map((section_obj) => {\n        // console.log(section_obj);\n\n        section_obj.tasks = this._db.getTasks(this.project_id, section_obj.id);\n\n        section_obj.tasks.subscribe((resp) => {\n          // console.log(resp);\n          all_tasks += resp.length;\n\n          let section_progress = resp.filter((task) => {\n            // console.log(task);\n            if (task.checked) {\n              all_tasks_done++\n              return true\n            }\n            // return task.checked\n          })\n\n          // console.log(all_tasks);\n        //  project_progress = 100 / all_tasks * all_tasks_done;\n          // this._db.getProject(this.project_id).update({progress : this.project_progress });\n          //  this.project.progress = this.project_progress;\n          section_obj.progress = 100 / resp.length * section_progress.length;\n          // console.log(project_progress);\n          \n\n        })\n\n        return section_obj\n      })\n    })\n\n  }\n\n  showInfo(task) {\n    let taskModal = this.modal.create('TaskModal', { item: task });\n    taskModal.present()\n  }\n\n  manageTask(task, section_key, section) {\n    // console.log(section);\n\n    // let activeTask: FirebaseObjectObservable<any[]> = task;\n    // console.log(activeTask);\n\n    let alert = this.alertCtrl.create({\n      title: 'Task Status',\n      inputs: [\n        {\n          type: 'radio',\n          label: 'Yes',\n          value: 'yes',\n          checked: task.checked\n        },\n        {\n          type: 'radio',\n          label: 'No',\n          value: 'no',\n          checked: !task.checked\n        },\n        {\n          type: 'radio',\n          label: 'N/A',\n          value: 'na'\n        }]\n    });\n\n    alert.addButton('Cancel');\n    alert.addButton({\n      text: 'Confirm',\n      handler: data => {\n        // console.log(data);\n\n        if (data === 'yes' && !task.checked) {\n\n          task.checked = true;\n\n          this.toggleTask(this.project_id, section_key, section, task.checked);\n\n        } else if (data === 'no' && task.checked) {\n\n          task.checked = false;\n\n          this.toggleTask(this.project_id, section_key, section, task.checked);\n\n        } else if (data === 'na') {\n          console.log('not applicable');\n\n        } else {\n          console.log('same check');\n        }\n      }\n    });\n    alert.present();\n  }\n\n  notify(admin) {\n    console.log('notification to ' + admin);\n  }\n\n  toggleTask(id, key, section, value: boolean) {\n    this._db.checkTask(id, key, section, value);\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/project/project.ts"],"sourceRoot":""}